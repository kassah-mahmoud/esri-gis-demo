"use strict";(self.webpackChunkesri_map=self.webpackChunkesri_map||[]).push([[7387],{67387:function(e,r,t){t.r(r),t.d(r,{getGeometryServiceURL:function(){return f},projectGeometry:function(){return p}});var n=t(15861),o=t(87757),i=t(42265),a=t(10064),u=t(70032),s=t(45362),c=t(81943);function f(){return l.apply(this,arguments)}function l(){return l=(0,n.Z)(o.mark((function e(){var r,t,n,s,c,f,l=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>0&&void 0!==l[0]?l[0]:null,t=l.length>1?l[1]:void 0,!i.Z.geometryServiceUrl){e.next=4;break}return e.abrupt("return",i.Z.geometryServiceUrl);case 4:if(r){e.next=6;break}throw new a.Z("internal:geometry-service-url-not-configured");case 6:return c="portal"in r?r.portal||u.Z.getDefault():r,e.next=9,c.load({signal:t});case 9:if(f=null==(n=c.helperServices)||null==(s=n.geometry)?void 0:s.url){e.next=12;break}throw new a.Z("internal:geometry-service-url-not-configured");case 12:return e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e,r){return m.apply(this,arguments)}function m(){return m=(0,n.Z)(o.mark((function e(r,t){var n,i,u,l,p,m=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:null,i=m.length>3?m[3]:void 0,e.next=4,f(n,i);case 4:return u=e.sent,(l=new c.Z).geometries=[r],l.outSpatialReference=t,e.next=9,(0,s.i)(u,l,{signal:i});case 9:if(!(p=e.sent)||!Array.isArray(p)||1!==p.length){e.next=12;break}return e.abrupt("return",p[0]);case 12:throw new a.Z("internal:geometry-service-projection-failed");case 13:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},45362:function(e,r,t){t.d(r,{i:function(){return m}});var n=t(1413),o=t(15861),i=t(87757),a=t(76200),u=t(25243),s=t(77981),c=t(23084),f=t(35594),l=t(81943),p=(0,u.se)(l.Z);function m(e,r,t){return h.apply(this,arguments)}function h(){return h=(0,o.Z)(i.mark((function e(r,t,o){var u,l,m,h,v;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p(t),u=(0,c.en)(r),l=(0,n.Z)((0,n.Z)({},u.query),{},{f:"json"},t.toJSON()),m=t.outSpatialReference,h=(0,s.Ji)(t.geometries[0]),v=(0,c.lA)(l,o),e.abrupt("return",(0,a.default)(u.path+"/project",v).then((function(e){var r=e.data.geometries;return(0,f.o)(r,h,m)})));case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}},35594:function(e,r,t){t.d(r,{F:function(){return o},o:function(){return i}});var n=t(77981);function o(e){return{geometryType:(0,n.Ji)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function i(e,r,t){var o=(0,n.q9)(r);return e.map((function(e){var r=o.fromJSON(e);return r.spatialReference=t,r}))}},81943:function(e,r,t){t.d(r,{Z:function(){return m}});var n=t(15671),o=t(43144),i=t(60136),a=t(54062),u=t(27366),s=t(46784),c=t(49861),f=(t(63780),t(93169),t(25243),t(69912)),l=t(77981),p=function(e){(0,i.Z)(t,e);var r=(0,a.Z)(t);function t(e){var o;return(0,n.Z)(this,t),(o=r.call(this,e)).geometries=null,o.outSpatialReference=null,o.transformation=null,o.transformForward=null,o}return(0,o.Z)(t,[{key:"toJSON",value:function(){var e=this.geometries.map((function(e){return e.toJSON()})),r=this.geometries[0],t={};return t.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),t.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference.toJSON()),t.geometries=JSON.stringify({geometryType:(0,l.Ji)(r),geometries:e}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}}]),t}(s.wq);(0,u._)([(0,c.Cb)()],p.prototype,"geometries",void 0),(0,u._)([(0,c.Cb)({json:{read:{source:"outSR"}}})],p.prototype,"outSpatialReference",void 0),(0,u._)([(0,c.Cb)()],p.prototype,"transformation",void 0),(0,u._)([(0,c.Cb)()],p.prototype,"transformForward",void 0);var m=p=(0,u._)([(0,f.j)("esri.rest.support.ProjectParameters")],p)}}]);
//# sourceMappingURL=7387.3534b175.chunk.js.map