"use strict";(self.webpackChunkesri_map=self.webpackChunkesri_map||[]).push([[5345],{64145:function(e,t,r){r.d(t,{BH:function(){return w},K:function(){return F},KC:function(){return g},NL:function(){return s},QI:function(){return m},Tg:function(){return v},Yx:function(){return f},nb:function(){return _},wF:function(){return S},xQ:function(){return p}});var n=r(29439),a=r(43404),i=r(92026),o=r(99278),h=r(17314),u=new Map;u.set("meter-per-second",1),u.set("kilometer-per-hour",.277778),u.set("knots",.514444),u.set("feet-per-second",.3048),u.set("mile-per-hour",.44704);var l=180/Math.PI,s=new a.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function f(e,t){return u.get(e)/u.get(t)||1}function c(e){return(450-e)%360}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=(0,n.Z)(e,2),a=r[0],i=r[1],o=Math.sqrt(a*a+i*i),h=Math.atan2(i,a)*l;return h=(360+h)%360,"geographic"===t&&(h=c(h)),[o,h]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=e[1];"geographic"===t&&(r=c(r)),r%=360;var n=e[0];return[n*Math.cos(r/l),n*Math.sin(r/l)]}function p(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"geographic";if(!(0,h.nk)(e)||(0,i.Wi)(r))return e;for(var a="vector-magdir"===t?e.clone():(0,i.Wg)(g(e,t)),o=a.pixels[1],u=0;u<o.length;u++)o[u]="geographic"===n?(o[u]+r[u]+270)%360:(o[u]+360-r[u])%360;return"vector-magdir"===t?a:g(a,"vector-magdir")}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!(0,h.nk)(e))return e;for(var i=e.pixels,u=e.width,l=e.height,s=u*l,f=i[0],c=i[1],p=e.pixelType.startsWith("f")?e.pixelType:"f32",g=o.Z.createEmptyBand(p,s),m=o.Z.createEmptyBand(p,s),w=0,x=0;x<l;x++)for(var M=0;M<u;M++){var y,k,Z,b;"vector-uv"===t?(y=v([f[w],c[w]],r),k=(0,n.Z)(y,2),g[w]=k[0],m[w]=k[1],g[w]*=a):(Z=d([f[w],c[w]],r),b=(0,n.Z)(Z,2),g[w]=b[0],m[w]=b[1],g[w]*=a,m[w]*=a),w++}var P=new o.Z({pixelType:p,width:e.width,height:e.height,mask:e.mask,validPixelCount:e.validPixelCount,maskIsAlpha:e.maskIsAlpha,pixels:[g,m]});return P.updateStatistics(),P}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===r||!(0,h.nk)(e))return e;for(var n=e.clone(),a=n.pixels,i=n.width,o=n.height,u=a[0],l=a[1],s=0,f=0;f<o;f++)for(var c=0;c<i;c++)"vector-uv"===t?(u[s]*=r,l[s]*=r):u[s]*=r,s++;return n.updateStatistics(),n}function w(e,t,r,n,a){if(!(0,i.pC)(a)||!a.spatialReference.equals(e.spatialReference))return{extent:e,width:Math.round(t/n),height:Math.round(r/n),resolution:e.width/t};var o=a.xmin,h=a.ymax,u=(e.xmax-e.xmin)/t*n,l=(e.ymax-e.ymin)/r*n,s=(u+l)/2;return e.xmin=o+Math.floor((e.xmin-o)/u)*u,e.xmax=o+Math.ceil((e.xmax-o)/u)*u,e.ymin=h+Math.floor((e.ymin-h)/l)*l,e.ymax=h+Math.ceil((e.ymax-h)/l)*l,{extent:e,width:Math.round(e.width/u),height:Math.round(e.height/l),resolution:s}}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a&&(r=(2*Math.PI-r)%(2*Math.PI));var i=a?-1:1,o=13*i,h=-7*i,u=-2*i,l=-16*i,s=21.75,f=y(0,t+o,r,s),c=(0,n.Z)(f,2),v=c[0],d=c[1],p=y(e-5.5,t+h,r,s),g=(0,n.Z)(p,2),m=g[0],w=g[1],x=y(e+5.5,t+h,r,s),M=(0,n.Z)(x,2),k=M[0],Z=M[1],b=y(e-1.5,t+u,r,s),P=(0,n.Z)(b,2),A=P[0],I=P[1],F=y(e+1.5,t+u,r,s),S=(0,n.Z)(F,2),_=S[0],D=S[1],V=y(e-1.5,t+l,r,s),L=(0,n.Z)(V,2),T=L[0],U=L[1],C=y(e+1.5,t+l,r,s),q=(0,n.Z)(C,2),O=q[0],B=q[1];return[v,d,m,w,A,I,_,D,k,Z,T,U,O,B]}(0,0,0);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r&&(t=(2*Math.PI-t)%(2*Math.PI));var a=10,i=r?-1:1,o=5*i,h=20*i,u=25*i,l=45,s=0,f=0,c=2,v=0,d=c*i,p=s+a/2,g=f-h,m=p+c,w=g,x=m-v,M=w+d,k=s-a/2,Z=f-u,b=k+v,P=Z-d,A=Math.ceil(e/5),I=Math.floor(A/10);A-=8*I;for(var F=[],S=[],_=0;_<A/2;_++,I--){I<=0&&A%2==1&&_===(A-1)/2&&(b=(k=s)+v,P=(Z=(Z+g)/2)-d);var D=y(k,Z,t,l),V=(0,n.Z)(D,2),L=V[0],T=V[1];if(I>0){var U=y(m,Z,t,l),C=(0,n.Z)(U,2),q=C[0],O=C[1],B=y(p,g,t,l),W=(0,n.Z)(B,2),K=W[0],N=W[1];F.push(q),F.push(O),F.push(L),F.push(T),F.push(K),F.push(N)}else{var R=y(m,w,t,l),E=(0,n.Z)(R,2),J=E[0],H=E[1],Q=y(x,M,t,l),X=(0,n.Z)(Q,2),j=X[0],z=X[1],Y=y(b,P,t,l),G=(0,n.Z)(Y,2),$=G[0],ee=G[1];S.push(L),S.push(T),S.push($),S.push(ee),S.push(j),S.push(z),S.push(J),S.push(H)}Z+=o,g+=o,w+=o,M+=o,P+=o}var te=y(s+a/2,f+h,t,l),re=(0,n.Z)(te,2),ne=re[0],ae=re[1],ie=a/2+c,oe=y(s+ie,f+h,t,l),he=(0,n.Z)(oe,2),ue=he[0],le=he[1],se=y(s+a/2,f-u,t,l),fe=(0,n.Z)(se,2),ce=fe[0],ve=fe[1],de=y(s+ie,f-u,t,l),pe=(0,n.Z)(de,2),ge=pe[0],me=pe[1];return{pennants:F,barbs:S,shaft:[ne,ae,ue,le,ce,ve,ge,me]}}function y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Math.sqrt(e*e+t*t)/n,i=(2*Math.PI+Math.atan2(t,e))%(2*Math.PI);return[a,(2*Math.PI+i-r)%(2*Math.PI)]}var k=[0,1,3,6,10,16,21,27,33,40,47,55,63],Z=[0,.5,1,1.5,2],b=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function P(e,t,r,n){var a,i=f(n||"knots",r);for(a=1;a<t.length;a++)if(a===t.length-1){if(e<t[a]*i)break}else if(e<=t[a]*i)break;return Math.min(a-1,t.length-2)}function A(e,t,r,n,a){var i=0;switch(t){case"beaufort_kn":i=P(e,k,"knots",r);break;case"beaufort_km":i=P(e,k,"kilometer-per-hour",r);break;case"beaufort_ft":i=P(e,k,"feet-per-second",r);break;case"beaufort_m":i=P(e,k,"meter-per-second",r);break;case"classified_arrow":i=P(e,a,n,r);break;case"ocean_current_m":i=P(e,Z,"meter-per-second",r);break;case"ocean_current_kn":i=P(e,b,"knots",r)}return i}var I=[];function F(e,t){for(var r=0,n=0,a=e.width,i=e.height,o=e.mask,h=e.pixels[0],u=[],l=[],c=f(s.fromJSON(t.inputUnit),"knots"),v="wind_speed"===t.style?5:Number.MAX_VALUE,d=0;d<i;d++)for(var p=0;p<a;p++){var g=h[d*a+p]*c;if((!o||o[d*a+p])&&g<v){for(var m=0;m<4;m++)u[r++]=(p+.5)/a,u[r++]=(d+.5)/i,u[r++]=m<2?-.5:.5,u[r++]=m%2==0?-.5:.5,u[r++]=0,u[r++]=g;var w=4*(r/24-1);l[n++]=w,l[n++]=w+1,l[n++]=w+2,l[n++]=w+1,l[n++]=w+2,l[n++]=w+3}}return{vertexData:new Float32Array(u),indexData:new Uint32Array(l)}}function S(e,t){return"simple_scalar"===t.style?F(e,t):"wind_speed"===t.style?function(e,t){if(0===I.length)for(var r=0;r<30;r++)I.push(M(5*r,0));for(var n=f(s.fromJSON(t.inputUnit),"knots"),a=e.width,i=e.height,o=e.mask,h=e.pixels[0],u=e.pixels[1],l=[],c=[],v=0,d=0,p=0;p<i;p++)for(var g=0;g<a;g++){var m=p*a+g,w=h[m]*n;if((!o||o[p*a+g])&&w>=5){var x,y=null!=(x=(u[m]+360)%360/180*Math.PI)?x:2*Math.PI*Math.random(),k=I[Math.min(Math.floor(w/5),29)],Z=k.pennants,b=k.barbs,P=k.shaft;if(Z.length+b.length===0)continue;for(var A=l.length/6,F=(g+.5)/a,S=(p+.5)/i,_=0;_<Z.length;_+=2)l[v++]=F,l[v++]=S,l[v++]=Z[_],l[v++]=Z[_+1]+y,l[v++]=0,l[v++]=w;for(var D=0;D<b.length;D+=2)l[v++]=F,l[v++]=S,l[v++]=b[D],l[v++]=b[D+1]+y,l[v++]=0,l[v++]=w;for(var V=0;V<P.length;V+=2)l[v++]=F,l[v++]=S,l[v++]=P[V],l[v++]=P[V+1]+y,l[v++]=0,l[v++]=w;for(var L=0;L<Z.length/6;L++)c[d++]=A,c[d++]=A+1,c[d++]=A+2,A+=3;for(var T=0;T<b.length/8;T++)c[d++]=A,c[d++]=A+1,c[d++]=A+2,c[d++]=A+1,c[d++]=A+2,c[d++]=A+3,A+=4;c[d++]=A+0,c[d++]=A+1,c[d++]=A+2,c[d++]=A+1,c[d++]=A+3,c[d++]=A+2,A+=4}}return{vertexData:new Float32Array(l),indexData:new Uint32Array(c)}}(e,t):function(e,t){for(var r=t.style,n=t.inputUnit,a=t.outputUnit,i=t.breakValues,o=s.fromJSON(n),h=s.fromJSON(a),u=0,l=0,f=e.width,c=e.height,v=e.mask,d=e.pixels[0],p=e.pixels[1],g=v?v.filter((function(e){return e>0})).length:f*c,m=new Float32Array(42*g),w=new Uint32Array(15*g),M=0;M<c;M++)for(var y=0;y<f;y++){var k=M*f+y;if(!v||v[M*f+y]){for(var Z,b=null!=(Z=(p[k]+360)%360/180*Math.PI)?Z:2*Math.PI*Math.random(),P=A(d[k],r,o,h,i),I=0;I<x.length;I+=2)m[u++]=(y+.5)/f,m[u++]=(M+.5)/c,m[u++]=x[I],m[u++]=x[I+1]+b,m[u++]=P,m[u++]=d[k];var F=7*(u/42-1);w[l++]=F,w[l++]=F+1,w[l++]=F+2,w[l++]=F+0,w[l++]=F+4,w[l++]=F+3,w[l++]=F+0,w[l++]=F+2,w[l++]=F+3,w[l++]=F+2,w[l++]=F+5,w[l++]=F+3,w[l++]=F+5,w[l++]=F+6,w[l++]=F+3}}return{vertexData:m,indexData:w}}(e,t)}function _(e,t,r){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,h=e.width,u=e.height,l=e.mask,s=(0,n.Z)(e.pixels,2),f=s[0],c=s[1],p=(0,n.Z)(a,2),g=p[0],m=p[1],w=Math.round((h-g)/r),x=Math.round((u-m)/r),M=w*x,y=new Float32Array(M),k=new Float32Array(M),Z=new Uint8Array(M),b="vector-uv"===t,P=0;P<x;P++)for(var A=0;A<w;A++){for(var I=0,F=P*w+A,S=Math.max(0,P*r+m),_=Math.max(0,A*r+g),D=Math.min(u,S+r),V=Math.min(h,_+r),L=S;L<D;L++)for(var T=_;T<V;T++){var U=L*h+T;if(!l||l[U]){I++;var C=b?[f[U],c[U]]:[f[U],(360+c[U])%360],q=b?C:d(C),O=(0,n.Z)(q,2),B=O[0],W=O[1];y[F]+=B,k[F]+=W}}if(I>=(D-S)*(V-_)*(1-i)){Z[F]=1;var K=v([y[F]/I,k[F]/I]),N=(0,n.Z)(K,2),R=N[0],E=N[1];y[F]=R,k[F]=E}else Z[F]=0,y[F]=0,k[F]=0}var J=new o.Z({width:w,height:x,pixels:[y,k],mask:Z});return J.updateStatistics(),J}},55185:function(e,t,r){r.d(t,{KK:function(){return Z},z_:function(){return p}});var n=r(37762),a=r(29439),i=r(15861),o=r(87757),h=(r(59486),r(32718)),u=r(16889),l=r(92026),s=r(66978),f=r(84936),c=r(92975),v=r(53866),d=h.Z.getLogger("esri.views.2d.engine.flow.dataUtils");function p(e,t,r){return g.apply(this,arguments)}function g(){return g=(0,i.Z)(o.mark((function e(t,r,n){var a,i,h,u,l,f,c,v,p,g;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=performance.now(),i=m(t,r),h=performance.now(),u=x(t,i,r.width,r.height),l=performance.now(),f=M(u,!0),c=performance.now(),v=y(f),p=performance.now(),t.profile&&(g={"_createFlowFieldFromData()":Math.round(h-a),"_getStreamlines()":Math.round(l-h),"createAnimatedLinesData()":Math.round(c-l),"createLinesMesh()":Math.round(p-c),"Total elapsed time":Math.round(p-a)},d.info("createStreamlinesMesh profile",g)),e.next=4,Promise.resolve();case 4:return(0,s.k_)(n),e.abrupt("return",v);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function m(e,t){var r=function(e,t,r,n){if(0===n)return e;for(var a=Math.round(3*n),i=new Array(2*a+1),o=0,h=-a;h<=a;h++){var u=Math.exp(-h*h/(n*n));i[h+a]=u,o+=u}for(var l=-a;l<=a;l++)i[l+a]/=o;for(var s=new Float32Array(e.length),f=0;f<r;f++)for(var c=0;c<t;c++){for(var v=0,d=0,p=-a;p<=a;p++)if(!(c+p<0||c+p>=t)){var g=i[p+a];v+=g*e[2*(f*t+(c+p))+0],d+=g*e[2*(f*t+(c+p))+1]}s[2*(f*t+c)+0]=v,s[2*(f*t+c)+1]=d}for(var m=new Float32Array(e.length),w=0;w<t;w++)for(var x=0;x<r;x++){for(var M=0,y=0,k=-a;k<=a;k++)if(!(x+k<0||x+k>=r)){var Z=i[k+a];M+=Z*s[2*((x+k)*t+w)+0],y+=Z*s[2*((x+k)*t+w)+1]}m[2*(x*t+w)+0]=M,m[2*(x*t+w)+1]=y}return m}(t.data,t.width,t.height,e.smoothing);return e.interpolate?function(e,n){var a=Math.floor(e),i=Math.floor(n);if(a<0||a>=t.width)return[0,0];if(i<0||i>=t.height)return[0,0];var o=e-a,h=n-i,u=a,l=i,s=a<t.width-1?a+1:a,f=i<t.height-1?i+1:i,c=r[2*(l*t.width+u)],v=r[2*(l*t.width+s)],d=r[2*(f*t.width+u)],p=r[2*(f*t.width+s)],g=r[2*(l*t.width+u)+1],m=r[2*(l*t.width+s)+1];return[(c*(1-h)+d*h)*(1-o)+(v*(1-h)+p*h)*o,(g*(1-h)+r[2*(f*t.width+u)+1]*h)*(1-o)+(m*(1-h)+r[2*(f*t.width+s)+1]*h)*o]}:function(e,n){var a=Math.round(e),i=Math.round(n);return a<0||a>=t.width||i<0||i>=t.height?[0,0]:[r[2*(i*t.width+a)+0],r[2*(i*t.width+a)+1]]}}function w(e,t,r,n,i,o,h,u,l){var s=[],f=r,c=n,v=0,d=t(f,c),p=(0,a.Z)(d,2),g=p[0],m=p[1];g*=e.velocityScale,m*=e.velocityScale;var w,x,M=Math.sqrt(g*g+m*m);s.push({x:f,y:c,t:v,speed:M});for(var y=0;y<e.verticesPerLine;y++){var k=t(f,c),Z=(0,a.Z)(k,2),b=Z[0],P=Z[1];b*=e.velocityScale,P*=e.velocityScale;var A=Math.sqrt(b*b+P*P);if(A<e.minSpeedThreshold)return s;var I=b/A,F=P/A;if(f+=I*e.segmentLength,c+=F*e.segmentLength,v+=e.segmentLength/A,Math.acos(I*w+F*x)>e.maxTurnAngle)return s;if(e.mergeLines){var S=Math.round(f*l),_=Math.round(c*l);if(S<0||S>h-1||_<0||_>u-1)return s;var D=o[_*h+S];if(-1!==D&&D!==i)return s;o[_*h+S]=i}s.push({x:f,y:c,t:v,speed:A}),w=I,x=F}return s}function x(e,t,r,n){for(var a=[],i=new f.Z,o=1/Math.max(e.lineCollisionWidth,1),h=Math.round(r*o),u=Math.round(n*o),l=new Int32Array(h*u),s=0;s<l.length;s++)l[s]=-1;for(var c=[],v=0;v<n;v+=e.lineSpacing)for(var d=0;d<r;d+=e.lineSpacing)c.push({x:d,y:v,sort:i.getFloat()});c.sort((function(e,t){return e.sort-t.sort}));for(var p=0,g=c;p<g.length;p++){var m=g[p],x=m.x,M=m.y;if(i.getFloat()<e.density){var y=w(e,t,x,M,a.length,l,h,u,o);if(y.length<2)continue;a.push(y)}}return a}function M(e,t){var r,a=new f.Z,i=e.reduce((function(e,t){return e+t.length}),0),o=new Float32Array(4*i),h=new Array(e.length),u=0,l=0,s=(0,n.Z)(e);try{for(s.s();!(r=s.n()).done;){var c,v=r.value,d=u,p=(0,n.Z)(v);try{for(p.s();!(c=p.n()).done;){var g=c.value;o[4*u+0]=g.x,o[4*u+1]=g.y,o[4*u+2]=g.t,o[4*u+3]=g.speed,u++}}catch(m){p.e(m)}finally{p.f()}h[l++]={startVertex:d,numberOfVertices:v.length,totalTime:v[v.length-1].t,timeSeed:t?a.getFloat():0}}}catch(m){s.e(m)}finally{s.f()}return{lineVertices:o,lineDescriptors:h}}function y(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=e.lineVertices,i=e.lineDescriptors,o=0,h=0,u=(0,n.Z)(i);try{for(u.s();!(t=u.n()).done;){var l=t.value;o+=2*l.numberOfVertices,h+=6*(l.numberOfVertices-1)}}catch(K){u.e(K)}finally{u.f()}var s=new Float32Array(9*o),f=new Uint32Array(h),c=0,v=0;function d(){f[v++]=c-2,f[v++]=c,f[v++]=c-1,f[v++]=c,f[v++]=c+1,f[v++]=c-1}function p(e,t,r,n,a,i,o,h){var u=9*c,l=0;s[u+l++]=e,s[u+l++]=t,s[u+l++]=1,s[u+l++]=r,s[u+l++]=i,s[u+l++]=o,s[u+l++]=n/2,s[u+l++]=a/2,s[u+l++]=h,c++,s[u+l++]=e,s[u+l++]=t,s[u+l++]=-1,s[u+l++]=r,s[u+l++]=i,s[u+l++]=o,s[u+l++]=-n/2,s[u+l++]=-a/2,s[u+l++]=h,c++}var g,m=(0,n.Z)(i);try{for(m.s();!(g=m.n()).done;){for(var w=g.value,x=w.totalTime,M=w.timeSeed,y=null,k=null,Z=null,b=null,P=null,A=null,I=0;I<w.numberOfVertices;I++){var F=a[4*(w.startVertex+I)+0],S=a[4*(w.startVertex+I)+1],_=a[4*(w.startVertex+I)+2],D=a[4*(w.startVertex+I)+3],V=null,L=null,T=null,U=null;if(I>0){V=F-y,L=S-k;var C=Math.sqrt(V*V+L*L);if(V/=C,L/=C,I>1){var q=V+P,O=L+A,B=Math.sqrt(q*q+O*O);q/=B,O/=B;var W=Math.min(1/(q*V+O*L),r);T=-(O*=W),U=q*=W}else T=-L,U=V;null!==T&&null!==U&&(p(y,k,Z,T,U,x,M,D),d())}y=F,k=S,Z=_,P=V,A=L,b=D}p(y,k,Z,-A,P,x,M,b)}}catch(K){m.e(K)}finally{m.f()}return{vertexData:s,indexData:f}}function k(e,t){var r=t.pixels,n=t.width,a=t.height,i=new Float32Array(n*a*2);if("vector-uv"===e)for(var o=0;o<n*a;o++)i[2*o+0]=r[0][o],i[2*o+1]=-r[1][o];else if("vector-magdir"===e)for(var h=0;h<n*a;h++){var l=r[0][h],s=(0,u.Vl)(r[1][h]),f=Math.cos(s-Math.PI/2),c=Math.sin(s-Math.PI/2);i[2*h+0]=f*l,i[2*h+1]=c*l}return{data:i,width:n,height:a}}function Z(e,t,r,n,a,i){return b.apply(this,arguments)}function b(){return b=(0,i.Z)(o.mark((function e(t,r,i,h,u,l){var s,f,d,p,g,m,w,x,M,y,k,Z,b,A,I,F,S,_,D,V;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,c.C5)(r.spatialReference)){e.next=3;break}return e.abrupt("return",P(t,r,i,h,u,l));case 3:for(f=(0,a.Z)(s.valid,2),d=f[0],p=f[1],g=p-d,m=Math.ceil(r.width/g),w=r.width/m,x=Math.round(i/m),M=r.xmin,y=[],k=0;k<m;k++)Z=new v.Z({xmin:M,xmax:M+w,ymin:r.ymin,ymax:r.ymax,spatialReference:r.spatialReference}),y.push(P(t,Z,x,h,u,l)),M+=w;return e.next=9,Promise.all(y);case 9:b=e.sent,A={data:new Float32Array(i*h*2),width:i,height:h},I=0,F=(0,n.Z)(b);try{for(F.s();!(S=F.n()).done;){for(_=S.value,D=0;D<_.height;D++)for(V=0;V<_.width;V++)I+V>=i||(A.data[2*(D*i+I+V)+0]=_.data[2*(D*_.width+V)+0],A.data[2*(D*i+I+V)+1]=_.data[2*(D*_.width+V)+1]);I+=_.width}}catch(o){F.e(o)}finally{F.f()}return e.abrupt("return",A);case 15:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function P(e,t,r,n,a,i){return A.apply(this,arguments)}function A(){return A=(0,i.Z)(o.mark((function e(t,r,n,a,i,h){var u,s,f,c,v;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u={requestProjectedLocalDirections:!0,signal:h},(0,l.pC)(i)&&(u.timeExtent=i),"imagery"!==t.type){e.next=9;break}return e.next=4,t.load({signal:h});case 4:return s=t.rasterInfo.dataType,e.next=7,t.fetchImage(r,n,a,u);case 7:return f=e.sent,e.abrupt("return",!f||(0,l.Wi)(f.pixelData)||(0,l.Wi)(f.pixelData.pixelBlock)?{data:new Float32Array(n*a*2),width:n,height:a}:k(s,f.pixelData.pixelBlock));case 9:return e.next=11,t.load({signal:h});case 11:return c=t.rasterInfo.dataType,e.next=14,t.fetchPixels(r,n,a,u);case 14:return v=e.sent,e.abrupt("return",!v||(0,l.Wi)(v.pixelBlock)?{data:new Float32Array(n*a*2),width:n,height:a}:k(c,v.pixelBlock));case 16:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}}}]);
//# sourceMappingURL=5345.5637eb89.chunk.js.map